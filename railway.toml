[build]
builder = "nixpacks"

[build.nixpacks]
# Use the full trading platform requirements
installCmd = "pip install -r requirements-trading-platform.txt"

[deploy]
# Start the FastAPI web service
startCommand = "uvicorn trading_platform_api:app --host 0.0.0.0 --port ${PORT:-8000}"
# Health check for web service
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
